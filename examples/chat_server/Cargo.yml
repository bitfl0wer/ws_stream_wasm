package:

  name       : chat_server
  version    : 0.1.0
  authors    : [ Naja Melan <najamelan@autistici.org> ]
  edition    : '2018'
  description: An example for using websockets in rust WASM.
  repository : https::/github.com/najamelan/ws_stream


lib:

  path: src/lib.rs
  name: chat_format

bin:

  - path: src/server.rs
    name: server


dependencies:

  failure         : ^0.1
  futures-preview : { version: ^0.3.0-alpha, features: [async-await] }
  futures_codec   : ^0.2
  serde           : { version: ^1, features: [ derive ] }
  serde_cbor      : ^0.10
  bytes           : ^0.4
  flexi_logger    : ^0.14
  async_runtime   : { version: ^0.3, package: naja_async_runtime }
  regex           : ^1
  rand            : ^0.7
  chrono          : ^0.4
  log             : ^0.4



target:

  'cfg(not( target_arch = "wasm32" ))':

    dependencies:

      warp       : { version: ^0.1, default-features: false, features: [ websocket] }
      ws_stream  : { path: ../../../ws_stream }
      once_cell  : ^1.0.0-pre
      locks      : { version: ^0.3.2-alpha, package: future-parking_lot }
      lock_api   : ^0.3
      parking_lot: ^0.9
      pin-utils  : ^0.1.0-alpha
